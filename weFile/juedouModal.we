<template>
    <div>
        <div id="dialog" class="dialog">
            <div class="dialog-backdrop"></div>
            <div class="dialog-content">
                <div class="dialog-header">
                    <text class="dialog-title">{{dialogTitle}}</text>
                </div>
                <div class="dialog-body">
                    <text class="random_player">玩家{{randomPlayerId}}</text>
                    <div style="align-items: center;margin-top: 20px;">
                        <!--以wxc-开头的组件为weex官方扩展组件，这些组件不属于内建组件的一部分，需要安装weex-components依赖
                        还需要在<script>中引入依赖-->
                        <wxc-button type="primary" size="middle" value="开始决斗" onclick="startJuedou"></wxc-button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    require('weex-components');
    module.exports = {
        data: {
            currentPlayer:null
        },
        computed:{
            randomPlayerId: function(){
                var x = parseInt(Math.random()*14);
                while(x == this.current_player)
                {
                    x = parseInt(Math.random()*14)
                }
                return x;
            },
            dialogTitle: function(){
                return '玩家'+this.currentPlayer+'的决斗对象是:';
            }
        },
        methods: {
            startJuedou: function() {
                this._parent.$emit("startJuedou");
            }
        }
    }
</script>

<style>
    .dialog-backdrop {
        opacity: .7;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: #000000;
    }
    .dialog {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        justify-content: center;
        align-items: center;
    }
    .dialog-content {
        width: 550;
        background-color:#FFFFFF;
        border:2px solid white;
        border-radius:10px;
        position: relative;
    }
    .dialog-header {
        padding: 20;
        border-bottom:1px solid #CCCCCC;
        position: relative;
    }
    .dialog-title{
        font-size:20;
        text-align:center;
        color:black;
    }

    .random_player{
        font-size:30;
        text-align:center;
        color:black;
    }
    .dialog-body {
        padding: 20;
    }
</style>